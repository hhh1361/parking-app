(this["webpackJsonpparking-app"]=this["webpackJsonpparking-app"]||[]).push([[0],[,,,,,,,,,,,,function(e,t,a){e.exports=a(33)},,,,,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},,function(e,t,a){},,function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),l=a.n(r),c=a(3),o=a.n(c),i=(a(17),a(4)),s=a(2);a(24);var u=Object(s.b)((function(e){return{carList:e.carList,sort:e.sort,onTerritory:e.onTerritory}}))((function(e){return l.a.createElement("div",{className:"container"},"something")}));var m=Object(s.b)((function(e){return{carList:e.carList,sort:e.sort,onTerritory:e.onTerritory}}))((function(e){var t=e.target,a=e.text,n=e.btnClass;return l.a.createElement("button",{className:"btn ".concat(n),type:"button","data-toggle":"collapse","data-target":"#".concat(t),"aria-expanded":"false","aria-controls":t},a)}));a(25);var d=Object(s.b)((function(e){return{mode:e.mode}}))((function(e){return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container-fluid"},l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col d-flex justify-content-center"},l.a.createElement(m,{text:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0430\u0432\u0442\u043e\u043c\u043e\u0431\u0438\u043b\u044c",btnClass:"btn-primary",target:"multiCollapseExample1"})),l.a.createElement("div",{className:"col d-flex justify-content-center"},l.a.createElement(m,{text:"\u041f\u043e\u0438\u0441\u043a \u043f\u043e \u0433\u043e\u0441. \u043d\u043e\u043c\u0435\u0440\u0443",btnClass:"btn-primary",target:"multiCollapseExample2"}))),l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"collapse multi-collapse",id:"multiCollapseExample1"},l.a.createElement("div",{className:"card card-body"},l.a.createElement(u,null)))),l.a.createElement("div",{className:"col"},l.a.createElement("div",{className:"collapse multi-collapse",id:"multiCollapseExample2"},l.a.createElement("div",{className:"card card-body"},l.a.createElement(u,null)))))))}));var p=Object(s.b)((function(e){return{isModal:e.isModal}}),(function(e){return{changeModal:function(t){e({type:"SET_MODAL",payload:t})}}}))((function(e){var t=e.info,a=e.changeModal,n=t.car_brand,r=t.car_model,c=t.car_number,o=t.car_tenant,i=t.car_territory,s=function(e){e.preventDefault();var t={state:!0,field:e.target.className,value:"tenant"===e.target.className?o.name:i,id:"tenant"===e.target.className?o.id:null};a(t)};return l.a.createElement(l.a.Fragment,null,l.a.createElement("tr",null,l.a.createElement("td",null,c),l.a.createElement("td",null,n?n.name:null),l.a.createElement("td",null,r?r.name:null),l.a.createElement("td",{onClick:s,className:"tenant"},o.name),l.a.createElement("td",{onClick:s,className:"territory"},i?"\u0442\u0443\u0442":"-")))}));a(26);var f=Object(s.b)((function(e){return{carList:e.carList,sort:e.sort}}),(function(e){return{setSortField:function(t){e({type:"SET_SORT_FIELD",payload:t})}}}))((function(e){var t,a=e.header,n=e.sort,r=e.setSortField;return t=n.field===a?n.reverse?"triangle-up":"triangle-down":"triangle-non",l.a.createElement("td",null,l.a.createElement("div",{className:"container",onClick:function(){n.field!==a?r({field:a,reverse:!1}):r({field:a,reverse:!n.reverse})}},l.a.createElement("div",{className:"header-text"},{car_number:"\u0413\u043e\u0441. \u043d\u043e\u043c\u0435\u0440",car_brand:"\u041c\u0430\u0440\u043a\u0430",car_model:"\u041c\u043e\u0434\u0435\u043b\u044c",car_tenant:"\u0410\u0440\u0435\u043d\u0434\u0430\u0442\u043e\u0440",car_territory:"\u0447\u0442\u043e-\u0442\u043e"}[a]),l.a.createElement("div",{className:"container"},l.a.createElement("div",{className:t}))))}));a(27);var E=Object(s.b)((function(e){return{carList:e.carList,sort:e.sort,onTerritory:e.onTerritory}}))((function(e){var t=e.carList,a=e.sort,n=e.onTerritory,r=function(e,t){var a=e.field,n=e.reverse;return"default"===a?t:t.sort((function(e,t){return null===e[a]&&null===t[a]?0:null!==e[a]&&null===t[a]?-1:null===e[a]&&null!==t[a]?1:null!==e[a]&&null!==t[a]?e[a].name?e[a].name>t[a].name?n?-1:1:e[a].name<t[a].name?n?1:-1:0:e[a]>t[a]?n?-1:1:e[a]<t[a]?n?1:-1:0:0}))}(a,t);return console.log("Rerender Table",n),l.a.createElement("div",{className:"container"},l.a.createElement("table",{className:"table table-dark table-hover"},l.a.createElement("thead",null,l.a.createElement("tr",null,["car_number","car_brand","car_model","car_tenant","car_territory"].map((function(e){return l.a.createElement(f,{header:e,key:e})})))),l.a.createElement("tbody",null,t.length?r.map((function(e){return l.a.createElement(p,{info:e,key:e.id})})):null)))}));a(28);var b=Object(s.b)((function(e){return{isLoading:e.isLoading}}))((function(e){var t=e.isLoading;return l.a.createElement(l.a.Fragment,null,t?l.a.createElement("div",{className:"loader"}):null)})),y=(a(29),a(8)),v=a.n(y),g=a(11);function O(e,t,a,n){return _.apply(this,arguments)}function _(){return(_=Object(g.a)(v.a.mark((function e(t,a,n,r){var l,c,o,i,s,u,m,d;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("Loading start."),l=Date.now(),c="https://cors-anywhere.herokuapp.com/",o=new URL("http://80.249.84.47:11000/"),e.next=6,Promise.all([fetch(c+o+t,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json"})}),fetch(c+o+a,{method:"GET",headers:new Headers({Accept:"application/json","Content-Type":"application/json"})})]).then((function(e){return console.log("Loading completed in  ".concat((Date.now()-l)/1e3," seconds.")),e.map((function(e){return e.json()}))}));case 6:return i=e.sent,e.next=9,i[0].then((function(e){return e}));case 9:return s=e.sent,e.next=12,i[1].then((function(e){return e}));case 12:u=e.sent,s.length&&u.length?s[0].time_in?(d=s,m=u):(d=u,m=s):m=s.length?s:u,console.log(m),console.log(d),d&&m.forEach((function(e){d.some((function(t){return t.id===e.id}))?e.car_territory=!0:e.car_territory=!1})),n(m,r);case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function L(e,t){O("api/cars/","api/stat/here/",e,t)}var h=Object(s.b)((function(e){return{modal:e.modal}}),(function(e){return{getParkedCarList:function(t,a){e({type:"GET_CAR_LIST",payload:t.filter((function(e){return!!e.car_territory}))}),e({type:"IS_LOADING",payload:a})},getFilteredCarList:function(t,a){e({type:"GET_CAR_LIST",payload:t}),e({type:"IS_LOADING",payload:a})},setLoading:function(){e({type:"IS_LOADING",payload:!0})},closeModal:function(){e({type:"CLOSE_MODAL",payload:!1})}}}))((function(e){var t=e.modal,a=e.closeModal,n=e.setLoading,r=e.getFilteredCarList,c=e.getParkedCarList;return l.a.createElement(l.a.Fragment,null,t.state?l.a.createElement("div",{id:"myModal"},l.a.createElement("div",{className:"modal-dialog"},l.a.createElement("div",{className:"modal-content"},l.a.createElement("div",{className:"modal-header"},l.a.createElement("h4",{className:"modal-title"},"\u0424\u0438\u043b\u044c\u0442\u0440"),l.a.createElement("button",{type:"button",className:"close",onClick:a},"\xd7")),l.a.createElement("div",{className:"modal-body"},l.a.createElement("div",{className:"container"},l.a.createElement("button",{type:"button",className:"btn btn-primary",onClick:function(){var e,l,o;n(!0),"tenant"===t.field&&(e=r,l=!1,o=t.id,O("api/cars/tenant/".concat(o,"/"),"api/stat/here/",e,l)),"territory"===t.field&&L(c,!1),a()}},"\u0423\u0441\u0442\u0430\u043d\u043e\u0432\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440 \u043f\u043e \u0437\u043d\u0430\u0447\u0435\u043d\u0438\u044e ".concat(t.value)),l.a.createElement("button",{type:"button",className:"btn btn-danger",onClick:function(){n(!0),L(r,!1),a()}},"\u0421\u0431\u0440\u043e\u0441\u0438\u0442\u044c \u0444\u0438\u043b\u044c\u0442\u0440")))))):null)}));a(31);var N=Object(s.b)((function(e){return{menu:e.menu}}),(function(e){return{getCarList:function(t,a){e({type:"GET_CAR_LIST",payload:t}),e({type:"IS_LOADING",payload:a})},getCarListOnTerritory:function(t){e({type:"GET_CARS_ON_TERRITORY",payload:t})}}}))((function(e){var t=e.getCarList;return e.getCarListOnTerritory,L(t,!1),l.a.createElement(l.a.Fragment,null,l.a.createElement(d,null),l.a.createElement(E,null),l.a.createElement(b,null),l.a.createElement(h,null))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(32);var j={carList:[],isLoading:!0,modal:{state:!1,field:void 0,id:void 0},sort:{field:"default",reverse:!1},onTerritory:[]};var T=Object(i.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:j,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_CAR_LIST":return Object(n.a)(Object(n.a)({},e),{},{carList:t.payload});case"IS_LOADING":return Object(n.a)(Object(n.a)({},e),{},{isLoading:t.payload});case"SET_SORT_FIELD":return Object(n.a)(Object(n.a)({},e),{},{sort:t.payload});case"SET_MODAL":return Object(n.a)(Object(n.a)({},e),{},{modal:t.payload});case"CLOSE_MODAL":return Object(n.a)(Object(n.a)({},e),{},{modal:Object(n.a)(Object(n.a)({},e.modal),{},{state:t.payload})});case"GET_CARS_ON_TERRITORY":return Object(n.a)(Object(n.a)({},e),{},{onTerritory:t.payload});case"ADD_TIMEZONE":return Object(n.a)(Object(n.a)({},e),{},{information:Object(n.a)(Object(n.a)({},e.information),{},{select:Object(n.a)(Object(n.a)({},e.information.select),{},{timezone:t.payload})})});default:return e}}));T.subscribe((function(){})),o.a.render(l.a.createElement(s.a,{store:T},l.a.createElement(N,{store:T.getState()})),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}],[[12,1,2]]]);
//# sourceMappingURL=main.987f744a.chunk.js.map